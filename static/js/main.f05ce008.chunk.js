(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(38)},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(19),c=a.n(r),l=a(4),s=a(12),i=a.n(s),u=a(20),h=a(6),d=a(7),b=a(9),m=a(8),k=a(10),f=function(e){var t=e.book,a=e.booksWithStatus;return o.a.createElement("div",{className:"book",key:t.id},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:192,backgroundImage:"url(".concat(t&&t.imageLinks&&t.imageLinks.thumbnail,")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:t.shelf,onChange:function(a){e.bookShelfHandler(t,a.target.value)}},o.a.createElement("option",{className:a&&"currentlyReading"===a?"checked":"unchecked",value:"currentlyReading",disabled:!(!a||"currentlyReading"!==a)},"Currently Reading"),o.a.createElement("option",{value:"wantToRead",className:a&&"wantToRead"===a?"checked":"unchecked",disabled:!(!a||"wantToRead"!==a)},"Want to Read"),o.a.createElement("option",{value:"read",className:a&&"read"===a?"checked":"unchecked",disabled:!(!a||"read"!==a)},"Read"),o.a.createElement("option",{value:"none",className:a&&""===a?"checked":"unchecked",disabled:!(!a||""!==a)},"None")))),o.a.createElement("div",{className:"book-title"},t.title),o.a.createElement("div",{className:"book-authors"},t.authors))},p=function(e){var t=e.books;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},e.title),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},t.map(function(t){return o.a.createElement("li",{key:t.id},o.a.createElement(f,{book:t,bookShelfHandler:e.bookShelfHandler}))}))))},E=function(){return o.a.createElement("div",{className:"open-search"},o.a.createElement(l.b,{to:"/search"},o.a.createElement("button",null," Add a book")))},v=function(e){var t=e.books,a=t.filter(function(e){return"currentlyReading"===e.shelf}),n=t.filter(function(e){return"wantToRead"===e.shelf}),r=t.filter(function(e){return"read"===e.shelf});return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement(p,{books:a,title:"Currently reading",bookShelfHandler:e.bookShelfHandler}),o.a.createElement(p,{books:n,title:"Want to read",bookShelfHandler:e.bookShelfHandler}),o.a.createElement(p,{books:r,title:"Read",bookShelfHandler:e.bookShelfHandler})),o.a.createElement(E,null))},y=function(e){var t=e.books;return o.a.createElement("div",null,o.a.createElement(v,{books:t,bookShelfHandler:e.bookShelfHandler}))},S=a(15),N="https://reactnd-books-api.udacity.com",g=localStorage.token;g||(g=localStorage.token=Math.random().toString(36).substr(-8));var j={Accept:"application/json",Authorization:g},H=function(){return fetch("".concat(N,"/books"),{headers:j}).then(function(e){return e.json()}).then(function(e){return e.books})},w=function(e,t){return fetch("".concat(N,"/books/").concat(e.id),{method:"PUT",headers:Object(S.a)({},j,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},O=function(e){return fetch("".concat(N,"/search"),{method:"POST",headers:Object(S.a)({},j,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},R=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(b.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",searchResult:[]},a.UpdateQuery=function(e){a.setState({query:e}),O(e).then(function(e){a.setState({searchResult:e})})},a}return Object(k.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.query,a=this.state.searchResult,n={};if(this.props.books.forEach(function(e){n[e.id]=e}),a)var r=a.length>0?a.map(function(t,a){return t&&n[t.id]?o.a.createElement(f,{booksWithStatus:n[t.id].shelf,key:a,book:t,bookShelfHandler:e.props.bookShelfHandler}):o.a.createElement(f,{booksWithStatus:null,key:a,book:t,bookShelfHandler:e.props.bookShelfHandler})}):[];return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(l.b,{to:"/"},o.a.createElement("button",{className:"close-search"},"Close")),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",value:t,onChange:function(t){return e.UpdateQuery(t.target.value)}}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},r)))}}]),t}(n.Component),C=a(0),T=(a(34),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(b.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={books:[]},a.bookShelfHandler=function(e,t){w(e,t).then(function(){H().then(function(e){a.setState({books:e})})})},a}return Object(k.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,this.setState({books:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(C.c,null,o.a.createElement(C.a,{exact:!0,path:"/"},o.a.createElement(y,{books:this.state.books,bookShelfHandler:this.bookShelfHandler})),o.a.createElement(C.a,{path:"/search"},o.a.createElement(R,{books:this.state.books,bookShelfHandler:this.bookShelfHandler}))))}}]),t}(o.a.Component));a(36);c.a.render(o.a.createElement(l.a,{basename:"/reactnd-project-myreads-starter"},o.a.createElement(T,null)),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.f05ce008.chunk.js.map